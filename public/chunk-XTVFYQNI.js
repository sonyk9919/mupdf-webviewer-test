import{a as N,c as Y}from"./chunk-PJJ3CU4Q.js";import{$d as He,Ae as pe,Bb as Oe,Ca as K,Cc as Te,Db as se,Df as Je,Eb as z,F as fe,Fd as ze,Gd as Ue,H as ue,Hi as lt,I as _e,Ib as d,Id as Be,Ie as me,Ii as st,Jb as g,Jd as Le,Ka as a,M as T,Mb as Se,Mh as ot,N as ae,Nd as Ke,Oa as O,Od as je,Og as tt,Pg as nt,Ph as rt,Qa as j,Ra as R,Rb as Ee,Sb as $,Tb as H,Th as ee,Ua as b,Uh as at,V as Ce,Vd as Ge,Wd as $e,Xa as le,Xb as ye,Xf as Ze,Ya as c,Za as xe,_a as k,ac as X,af as J,cb as l,db as s,eb as _,f as C,fb as ve,gb as be,gd as Ie,ge as Xe,gf as I,ha as U,he as Qe,ib as S,jd as We,ka as B,kd as Ae,kf as y,kh as it,lb as x,lf as Z,mb as m,me as Ye,nb as he,ne as qe,oa as L,ob as Me,od as Re,pa as W,qb as Pe,ra as A,rb as ke,rd as Ne,sb as we,tb as G,u as ge,ub as u,uc as ce,ud as De,va as M,vb as v,vc as Q,wa as P,wb as E,wd as q,xd as Ve,yd as Fe,yg as et,z as F}from"./chunk-6FTJLYMX.js";var te=(()=>{let r=class r{watermarkService;fb;constructor(n,e){this.watermarkService=n,this.fb=e}createControl(n,e){let t=[],p=e||this.fb.group({type:n,renderTarget:null,name:null,opacity:100,align:0,rotate:0,x:0,y:0,allowView:!0,allowPrint:!0,range:"all",placeOverContent:!0,_repeatWidth:{value:250,disabled:!0},_repeatHeight:{value:250,disabled:!0},text:"",size:null,color:"#000000",fontName:null,bold:!1,italic:!1,textAlignment:"center",scale:100,imageData:null,_repeat:!1,opacityInput:[100,{updateOn:"blur"}],rotateInput:[0,{updateOn:"blur"}]}),f=(h,...w)=>w.map(V=>p.get(V).valueChanges.subscribe({next:ie=>{let oe=Math.min(Math.max(ie,h.min),h.max);w.forEach(re=>{p.get(re)?.setValue(oe,{emitEvent:!1})})}}));return t.push(...f({min:0,max:100},"opacity","opacityInput"),...f({min:0,max:9999},"scale"),...f({min:0,max:360},"rotate","rotateInput"),...f({min:1,max:1e3},"_repeatWidth"),...f({min:1,max:1e3},"_repeatHeight"),p.get("_repeat").valueChanges.subscribe({next:h=>{["_repeatHeight","_repeatWidth"].forEach(w=>p.get(w)?.[h?"enable":"disable"]())}})),[p,t]}generateName(n,e){let t=`${n==="Text"?"TXT":"IMG"}_Watermark_`,p=new RegExp(`^${t}(\\d+)`),f=Math.max(0,...e.map(h=>Number((p.exec(h)||[])[1])||0));return`${t}${f+1}`}exportWatermarkChanges(n){return n.map(e=>this.mapControlToWatermark(e)).reduce((e,t)=>this.watermarkService.mergeWatermarkChanges(e,t),[])}importWatermarkChanges(n){return n.reduce((e,t)=>e.concat(...t.text,...t.image),[]).map(e=>this.watermarkService.mapWatermarkToControl(e))}mapControlToWatermark(n){let e=n.getRawValue(),t=e.fontName||null,p=e.size?.value||null,f=e._repeat,h=e._repeatWidth,w=e._repeatHeight;return I.isText(e)?{id:void 0,type:e.type,renderTarget:e.renderTarget,name:e.name,_repeat:f,_repeatWidth:h,_repeatHeight:w,opacity:Number((e.opacity/100).toFixed(2)),align:f?1:e.align,rotate:e.rotate,x:e.x,y:e.y,allowView:e.allowView,allowPrint:e.allowPrint,range:e.range,placeOverContent:e.placeOverContent,repeatWidth:f?h:0,repeatHeight:f?w:0,text:e.text,size:p,color:e.color,fontName:t,bold:e.bold,italic:e.italic,textAlignment:e.textAlignment}:{id:void 0,type:e.type,renderTarget:e.renderTarget,name:e.name,_repeat:f,_repeatWidth:h,_repeatHeight:w,opacity:Number((e.opacity/100).toFixed(2)),align:f?1:e.align,rotate:e.rotate,x:e.x,y:e.y,allowView:e.allowView,allowPrint:e.allowPrint,range:e.range,placeOverContent:e.placeOverContent,repeatWidth:f?h:0,repeatHeight:f?w:0,scale:Number((e.scale/100).toFixed(2)),imageData:e.imageData}}};C(r,"\u0275fac",function(e){return new(e||r)(A(ee),A(q))}),C(r,"\u0275prov",L({token:r,factory:r.\u0275fac}));let i=r;return i})();var xt=["*"];function vt(i,r){if(i&1){let o=S();l(0,"div",5),x("click",function(){let e=M(o).$implicit,t=m();return P(t.onSelectTab(e))}),u(1),d(2,"translate"),s()}if(i&2){let o=r.$implicit,n=m();k("selected",o===n.selectedTab),a(),v(g(2,3,o.title))}}function bt(i,r){if(i&1){let o=S();l(0,"footer",6)(1,"button",7),x("click",function(){M(o);let e=m();return P(e.onCancelClick())}),u(2),d(3,"translate"),s(),l(4,"button",8),x("click",function(){M(o);let e=m();return P(e.onConfirmClick())}),u(5),d(6,"translate"),s()()}i&2&&(a(2),v(g(3,2,"CANCEL")),a(3),v(g(6,4,"SAVE_CHANGES")))}var ct=(()=>{let r=class r{tabs;useFooter=!0;selectTab=new K;confirm=new K;cancelClick=new K;selectedTab;ngOnInit(){this.selectedTab=this.tabs[0]}onSelectTab(n){this.selectedTab=n,this.selectTab.emit(n)}onConfirmClick(){this.confirm.emit()}onCancelClick(){this.cancelClick.emit()}};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275cmp",j({type:r,selectors:[["sd-tab-panel2"]],inputs:{tabs:"tabs",useFooter:"useFooter"},outputs:{selectTab:"selectTab",confirm:"confirm",cancelClick:"cancelClick"},standalone:!1,ngContentSelectors:xt,decls:6,vars:2,consts:[[1,"tabview"],[1,"tabview-header"],["class","tabview-header-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"tabview-body"],["class","footer",4,"ngIf"],[1,"tabview-header-item",3,"click"],[1,"footer"],["size","small","color","white",1,"ep-button",3,"click"],["color","primary","size","small",1,"ep-button",3,"click"]],template:function(e,t){e&1&&(he(),l(0,"main",0)(1,"header",1),b(2,vt,3,5,"div",2),s(),l(3,"main",3),Me(4),s(),b(5,bt,7,6,"footer",4),s()),e&2&&(a(2),c("ngForOf",t.tabs),a(3),c("ngIf",t.useFooter))},dependencies:[$,H,y],styles:[".tabview[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tabview-header[_ngcontent-%COMP%]{z-index:2;flex:0 0 40px}.tabview-header-item[_ngcontent-%COMP%]{display:inline-block;height:100%;padding:13px 40px;box-sizing:border-box;border:1px solid #DADADA;border-top-left-radius:4px;border-top-right-radius:4px;color:#6c6c6c;font-family:NotoSans-Medium;font-size:14px;line-height:14px;cursor:pointer}.tabview-header-item.selected[_ngcontent-%COMP%]{border-bottom:1px solid transparent;color:#ff6100;background-color:#fff}.tabview-header-item[_ngcontent-%COMP%]:not(.selected){border-top:1px solid transparent;border-right:1px solid transparent;border-left:1px solid transparent}.tabview-body[_ngcontent-%COMP%]{z-index:1;flex:1 1 auto;margin-top:-1px;box-sizing:border-box;border:1px solid #DADADA;background-color:#fff}.footer[_ngcontent-%COMP%]{display:flex;flex:0 0 40px;padding:15px;box-sizing:border-box;border-bottom:1px solid #DADADA;border-left:1px solid #DADADA;border-right:1px solid #DADADA;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:#fff}.footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){margin-left:auto}.footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0}));let i=r;return i})();var wt=["textAreaElement"],Ot=i=>["papycon",i],de=i=>({content:i,className:"with-icon"}),St=()=>({standalone:!0}),Et=()=>["left","center","right"];function yt(i,r){i&1&&(l(0,"section",22)(1,"div",23),_(2,"pu-toggle-button",24),l(3,"span",25),u(4),d(5,"translate"),s()()()),i&2&&(a(4),v(g(5,1,"FILE_WATERMARK_ENABLED_DESCRIPTION")))}function Tt(i,r){if(i&1){let o=S();l(0,"button",11),x("click",function(){M(o);let e=m();return P(e.onMoreMenuClick())}),_(1,"i",26),s()}if(i&2){let o=m();c("disabled",!o.selectedControl),le("color",o.previewMenuVisible?"primary":"dark")}}function It(i,r){if(i&1&&(l(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3"),u(4),d(5,"translate"),_(6,"pu-toggle-button",30),s()(),l(7,"div",29)(8,"h3"),u(9),d(10,"translate"),_(11,"pu-toggle-button",31),s()()()()),i&2){let o=m();c("formGroup",o.previewMenuControls),a(2),k("disabled",!o.previewMenuControls.value.view),a(2),E(" ",g(5,7,"PREVIEW_SCREEN_WATERMARK")," "),a(3),k("disabled",!o.previewMenuControls.value.print),a(2),E(" ",g(10,9,"PREVIEW_WATERMARK_IN_PRINT")," ")}}function Wt(i,r){if(i&1){let o=S();l(0,"div",32),x("click",function(){let e=M(o).$implicit,t=m();return P(t.selectWatermark(e))}),_(1,"i",33),l(2,"span"),u(3),s(),l(4,"i",34),x("click",function(e){let t=M(o).$implicit,p=m();return P(p.openDeleteWatermarkDialog(t,e))}),s()()}if(i&2){let o=r.$implicit,n=m();k("selected",o===n.selectedControl),a(),c("ngClass",z(4,Ot,"papycon-"+(n.WatermarkUtils.isText(o.value)?"textbox":"image"))),a(2),v(o.value.name)}}function At(i,r){if(i&1&&_(0,"div",38),i&2){let o=m().$implicit,n=m(2);c("watermarkControl",o)("pageSize",n.pageSize)}}function Rt(i,r){if(i&1&&(ve(0),b(1,At,1,2,"div",37),be()),i&2){let o=r.$implicit,n=m(2);a(),c("ngIf",n.previewMenuControls.value.view&&o.value.allowView||n.previewMenuControls.value.print&&o.value.allowPrint)}}function Nt(i,r){if(i&1&&(l(0,"div",35),b(1,Rt,2,1,"ng-container",36),s()),i&2){let o=m();c("ngStyle",o.previewWatermarkSizeStyles),a(),c("ngForOf",o.currentControls)}}function Dt(i,r){if(i&1&&(l(0,"div",39),_(1,"img",40),s()),i&2){let o=m();a(),c("sdImage",o.previewImage)}}function Vt(i,r){i&1&&_(0,"sd-loader")}function Ft(i,r){if(i&1&&(l(0,"div",29)(1,"h3"),u(2),d(3,"translate"),_(4,"i",56),d(5,"translate"),_(6,"pu-toggle-button",63),s()()),i&2){let o=m(2);k("disabled",!o.selectedControl.value.allowView),a(2),E(" ",g(3,4,"DISPLAY_SCREEN_WATERMARK")," "),a(2),c("tooltip",z(8,de,g(5,6,"DISPLAY_SCREEN_WATERMARK_TOOLTIP")))}}function zt(i,r){if(i&1&&(l(0,"div",29)(1,"h3"),u(2),d(3,"translate"),_(4,"i",56),d(5,"translate"),_(6,"pu-toggle-button",64),s()()),i&2){let o=m(2);k("disabled",!o.selectedControl.value.allowPrint),a(2),E(" ",g(3,4,"INCLUDE_WATERMARK_IN_PRINT")," "),a(2),c("tooltip",z(8,de,g(5,6,"INCLUDE_WATERMARK_IN_PRINT_TOOLTIP")))}}function Ut(i,r){if(i&1){let o=S();l(0,"div",65),x("click",function(){let e=M(o).$implicit,t=m(2);return P(t.selectedControl.patchValue({align:e}))}),s()}if(i&2){let o=r.$implicit,n=m(2);k("selected",n.selectedControl.value._repeat||o===n.selectedControl.value.align)}}function Bt(i,r){if(i&1){let o=S();l(0,"div",71),x("mousedown",function(e){let t=M(o).$implicit,p=m(4);return P(p.onKeywordMousedown(e,t))}),u(1),s()}if(i&2){let o=r.$implicit;a(),v(o)}}function Lt(i,r){if(i&1&&(l(0,"section",69),b(1,Bt,2,1,"div",70),s()),i&2){let o=m(3);a(),c("ngForOf",o.TextKeywords)}}function Kt(i,r){if(i&1&&(l(0,"div",66)(1,"h3"),u(2),d(3,"translate"),s(),_(4,"textarea",67,0),d(6,"translate"),b(7,Lt,2,1,"section",68),s()),i&2){let o=m(2);a(2),v(g(3,3,"ENTER_TEXT")),a(2),c("placeholder",g(6,5,"TEXT_WATERMARK_SETTINGS_PLACEHOLDER")),a(3),c("ngIf",o.WatermarkUtils.isScreenWatermark(o.selectedTab))}}function jt(i,r){if(i&1){let o=S();l(0,"div",72)(1,"h3"),u(2),d(3,"translate"),s(),l(4,"section",73)(5,"button",74),x("click",function(){M(o);let e=G(12);return P(e.click())}),u(6),d(7,"translate"),s(),_(8,"pu-input",75,1),d(10,"translate"),l(11,"input",76,2),x("change",function(){M(o);let e=G(9),t=G(12),p=m(2);return P(p.onFileChange(t,e))}),s()()()}i&2&&(a(2),v(g(3,4,"ADD_IMAGE")),a(4),v(g(7,6,"SEARCH_FILE")),a(2),c("ngModelOptions",se(10,St))("placeholder",g(10,8,"IMAGE_WATERMARK_SETTINGS_PLACEHOLDER")))}function Gt(i,r){i&1&&(l(0,"div",29)(1,"h3"),u(2),d(3,"translate"),s(),l(4,"section",59)(5,"span",60),u(6),d(7,"translate"),s(),_(8,"pu-input-value",77),s()()),i&2&&(a(2),v(g(3,6,"IMAGE_SIZE")),a(4),v(g(7,8,"IMAGE_SCALE")),a(2),c("max",9999)("min",1)("width",119)("height",30))}function $t(i,r){if(i&1){let o=S();l(0,"i",89),x("click",function(){let e=M(o).$implicit,t=m(3);return P(t.selectedControl.patchValue({textAlignment:e}))}),s()}if(i&2){let o=r.$implicit,n=m(3);k("selected",n.selectedControl.value.textAlignment===o),c("ngClass","papycon-text-align-"+o)}}function Ht(i,r){i&1&&(_(0,"pu-color-palette",90),d(1,"translate"),d(2,"translate")),i&2&&c("customColorLabel",g(1,3,"CUSTOM_COLOR"))("defaultColorLabel",g(2,5,"DEFAULT_COLOR"))("defaultColorPanelExpandedd",!0)}function Xt(i,r){if(i&1){let o=S();l(0,"div",78)(1,"h3"),u(2),d(3,"translate"),s(),l(4,"section",79),_(5,"pu-dropdown",80),l(6,"div",81),x("click",function(){M(o);let e=m(2);return P(e.paletteVisible=!e.paletteVisible)}),_(7,"div",82),s()(),l(8,"section",83),b(9,$t,1,3,"i",84),_(10,"div",85),l(11,"img",86),x("click",function(){M(o);let e=m(2);return P(e.selectedControl.patchValue({bold:!e.selectedControl.value.bold}))}),s(),l(12,"img",87),x("click",function(){M(o);let e=m(2);return P(e.selectedControl.patchValue({italic:!e.selectedControl.value.italic}))}),s()(),b(13,Ht,3,7,"pu-color-palette",88),s()}if(i&2){let o=m(2);a(2),v(g(3,10,"FONT")),a(3),c("options",o.FontSizeOptions),a(2),xe("background-color",o.selectedControl.value.color),a(2),c("ngForOf",se(12,Et)),a(2),k("selected",o.selectedControl.value.bold),a(),k("selected",o.selectedControl.value.italic),a(),c("ngIf",o.paletteVisible)}}function Qt(i,r){if(i&1){let o=S();l(0,"section",41)(1,"h2"),u(2),d(3,"translate"),s(),b(4,Ft,7,10,"div",42)(5,zt,7,10,"div",42),l(6,"div",43)(7,"h3"),u(8),d(9,"translate"),s(),l(10,"section",44),b(11,Ut,1,2,"div",45),s()(),b(12,Kt,8,7,"div",46)(13,jt,13,11,"div",47),l(14,"div",48)(15,"h3"),u(16),d(17,"translate"),s(),l(18,"section",49),_(19,"pu-slider",50),l(20,"pu-input",51),x("keydown.enter",function(e){M(o);let t=m();return P(t.onKeyUpEnter(e))}),s()()(),b(21,Gt,9,10,"div",52),l(22,"div",48)(23,"h3"),u(24),d(25,"translate"),s(),l(26,"section",49),_(27,"pu-slider",53),l(28,"pu-input",54),x("keydown.enter",function(e){M(o);let t=m();return P(t.onKeyUpEnter(e))}),s()()(),b(29,Xt,14,13,"div",55),l(30,"div",29)(31,"h3"),u(32),d(33,"translate"),_(34,"i",56)(35,"pu-toggle-button",57),s(),l(36,"div",58)(37,"section",59)(38,"span",60),u(39),d(40,"translate"),s(),l(41,"pu-input-value",61),x("enterKeyup",function(e){M(o);let t=m();return P(t.onKeyUpEnter(e))}),s()(),l(42,"section",59)(43,"span",60),u(44),d(45,"translate"),s(),l(46,"pu-input-value",62),x("enterKeyup",function(e){M(o);let t=m();return P(t.onKeyUpEnter(e))}),s()()()()()}if(i&2){let o=m();c("formGroup",o.selectedControl),a(2),v(g(3,30,o.WatermarkUtils.isText(o.selectedControl.value)?"TEXT_WATERMARK":"IMAGE_WATERMARK")),a(2),c("ngIf",o.WatermarkUtils.isScreenWatermark(o.selectedTab)),a(),c("ngIf",o.WatermarkUtils.isScreenWatermark(o.selectedTab)),a(3),v(g(9,32,"WATERMARK_POSITION")),a(3),c("ngForOf",o.WatermarkAlignments),a(),c("ngIf",o.WatermarkUtils.isText(o.selectedControl.value)),a(),c("ngIf",o.WatermarkUtils.isImage(o.selectedControl.value)),a(3),v(g(17,34,"OPACITY")),a(3),c("max",100)("min",0),a(2),c("ngIf",o.WatermarkUtils.isImage(o.selectedControl.value)),a(3),v(g(25,36,"ROTATION")),a(3),c("max",360)("min",0),a(2),c("ngIf",o.WatermarkUtils.isText(o.selectedControl.value)),a(),k("disabled",!o.selectedControl.value._repeat),a(2),E(" ",g(33,38,"REPEAT")," "),a(2),c("tooltip",z(44,de,o.repeatDescription)),a(5),v(g(40,40,"HEIGHT_INTERVAL")),a(2),c("max",1e3)("min",1)("width",127)("height",30),a(3),v(g(45,42,"WIDTH_INTERVAL")),a(2),c("max",1e3)("min",1)("width",127)("height",30)}}var Yt=[1,2,3,4,0,5,6,7,8],qt=["{{date}}","{{ip-address}}"],Jt=[{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10},{label:"12",value:12},{label:"14",value:14},{label:"16",value:16},{label:"18",value:18},{label:"20",value:20},{label:"22",value:22},{label:"24",value:24},{label:"26",value:26},{label:"28",value:28},{label:"36",value:36},{label:"48",value:48},{label:"72",value:72}],pt=(()=>{let r=class r{fb;subscriptionService;contentService;changeDetectorRef;watermarkService;watermarkConfigsService;renderingService;dialogService;toastService;translatePipe;localStorageService;textAreaElement;get WatermarkUtils(){return I}get WatermarkAlignments(){return Yt}get TextKeywords(){return qt}get FontSizeOptions(){return Jt}get pageSize(){return{x:0,y:0,h:842*(J.width>1480?1:.9),w:595*(J.width>1480?1:.9)}}get previewWatermarkSizeStyles(){return I.getPreviewWatermarkSizeStyles(this.pageSize)}get repeatDescription(){return this.translatePipe.transform(I.isText(this.selectedControl.value)?"TEXT_WATERMARK_REPEAT_DESCRIPTION":"IMAGE_WATERMARK_REPEAT_DESCRIPTION")}tabs=[{title:"SCREEN_AND_PRINT_WATERMARK",value:"SCREEN"},{title:"FILE_WATERMARK",value:"FILE"}];fontNameOptions=[];globalForm;watermarkControls;get currentControls(){return this.filterControls(this.selectedTab)}selectedTab="SCREEN";selectedControl=null;controlSubscriptionMap=new Map;renderingSubscription=null;beforeunloadSubscription=null;get formChanged(){return this.beforeunloadSubscription!==null}paletteVisible=!1;configPanelVisible=!1;previewImage=null;previewMenuVisible=!1;previewMenuControls;constructor(n,e,t,p,f,h,w,V,ie,oe,re){this.fb=n,this.subscriptionService=e,this.contentService=t,this.changeDetectorRef=p,this.watermarkService=f,this.watermarkConfigsService=h,this.renderingService=w,this.dialogService=V,this.toastService=ie,this.translatePipe=oe,this.localStorageService=re,this.globalForm=this.fb.group({fileEnabled:!0}),this.watermarkControls=this.fb.array([]),this.previewMenuControls=this.fb.group({view:!0,print:!0})}ngOnInit(){let n=this.localStorageService.get(pe.watermarkStorage);me.isDefined(n)&&this.previewMenuControls.setValue(JSON.parse(n),{emitEvent:!1}),this.subscriptionService.push(J.windowResize$.subscribe({next:()=>{this.changeDetectorRef.markForCheck()}}),this.contentService.fontsResponse$.pipe(B({next:e=>{this.fontNameOptions=e.fontList.map(t=>({label:t.label[1042]||t.label[0]||t.name,value:t.name,available:!0}))}})).subscribe({next:()=>this.initWatermarks()}),this.dialogService.dialogEvent$.pipe(T(e=>e.dialogType===N.DELETE),T(e=>e.action==="confirm")).subscribe({next:e=>{this.deleteWatermark(e.data),this.dialogService.closeCurrentActiveDialog()}}),this.previewMenuControls.valueChanges.subscribe({next:e=>{this.localStorageService.set(pe.watermarkStorage,JSON.stringify(e))}}))}onKeywordMousedown(n,e){n.preventDefault();let t=this.textAreaElement.nativeElement===document.activeElement,p=this.textAreaElement.nativeElement.selectionStart,f=this.textAreaElement.nativeElement.selectionEnd;if(t){let h=this.selectedControl.value.text,w=h.slice(0,p),V=p!==h.length?h.slice(p-h.length):"";this.selectedControl.patchValue({text:`${w}${e}${V}`}),this.textAreaElement.nativeElement.setSelectionRange(p+e.length,f+e.length)}else this.selectedControl.patchValue({text:`${this.selectedControl.value.text}${e}`})}togglePanelVisible(){this.currentControls.length!==0&&(this.configPanelVisible=!this.configPanelVisible,this.previewMenuVisible=!1)}selectTab(n){this.selectedControl&&!this.validateImageWatermark([this.selectedControl.value])||(this.selectedTab=n.value,this.selectWatermark(this.currentControls[0]||null),this.subscriptionService.push(this.renderPreview().subscribe()))}createWatermark(n){let e=n==="image"?"Image":"Text";if(this.selectedControl&&!this.validateImageWatermark([this.selectedControl.value]))return;let[t,p]=this.watermarkConfigsService.createControl(e);t.patchValue({renderTarget:this.selectedTab,name:this.watermarkConfigsService.generateName(e,this.currentControls.map(f=>f.value.name)),size:this.FontSizeOptions.find(f=>f.value===16),fontName:this.fontNameOptions[0].value},{emitEvent:!1}),this.watermarkControls.push(t),this.controlSubscriptionMap.set(t,p),this.selectWatermark(t,!0),this.subscribeBeforeunload()}openDeleteWatermarkDialog(n,e){e.stopPropagation(),this.dialogService.toggleDialogVisibility(N.DELETE,!0,{title:this.translatePipe.transform("WATERMARK_DELETE_TITLE"),description:this.translatePipe.transform("WATERMARK_DELETE_DESCRIPTION"),size:{width:336,height:280},data:n})}deleteWatermark(n){let e=this.watermarkControls.controls.indexOf(n);this.watermarkControls.removeAt(e),this.controlSubscriptionMap.get(n)?.forEach(t=>t.unsubscribe()),this.controlSubscriptionMap.delete(n),n===this.selectedControl&&(this.selectWatermark(this.currentControls[this.currentControls.length-1],!0),this.configPanelVisible=!1),this.subscriptionService.push(this.renderPreview().subscribe()),this.subscribeBeforeunload()}selectWatermark(n,e=!1){if(!(!e&&this.selectedControl&&!this.validateImageWatermark([this.selectedControl.value]))){if(this.renderingSubscription&&this.renderingSubscription.unsubscribe(),n){let t=n.value;this.renderingSubscription=n.valueChanges.pipe(T(p=>Number.isNaN(p)?Number.isNaN(t):Object.keys(me.diff(p,t)).length!==0),B({next:()=>this.subscribeBeforeunload()}),Ce(500),T(p=>this.validateImageWatermark([p])),U(()=>this.renderPreview())).subscribe(),this.subscriptionService.push(this.renderingSubscription)}this.selectedControl=n,this.forceUpdateFormGroupStatus(!!this.selectedControl?.get("_repeat")?.value,["_repeatWidth","_repeatHeight"]),this.configPanelVisible=!!n,this.paletteVisible=!1,this.previewMenuVisible=!1,this.changeDetectorRef.markForCheck()}}saveWatermarks(){let n=this.watermarkConfigsService.exportWatermarkChanges(this.filterControls("SCREEN")),e=this.watermarkConfigsService.exportWatermarkChanges(this.filterControls("FILE"));this.validateImageWatermark(this.currentControls.map(t=>t.value))&&this.subscriptionService.push(ae(this.watermarkService.saveChanges("SCREEN",!0,n),this.watermarkService.saveChanges("FILE",!!this.globalForm.get("fileEnabled")?.value,e)).subscribe({next:()=>{this.initWatermarks(),this.toastService.create({icon:"success",content:this.translatePipe.transform("CHANGES_SAVED")})},error:()=>{this.toastService.create({icon:"failed",content:this.translatePipe.transform("ERROR_PAGES_500")})}}))}initWatermarks(){this.subscriptionService.push(ae(this.watermarkService.fetchChanges("SCREEN"),this.watermarkService.fetchChanges("FILE")).pipe(F(n=>n.map(e=>({enabled:e.enabled,controls:this.watermarkConfigsService.importWatermarkChanges(e.changes)})))).subscribe({next:([n,e])=>{this.globalForm=this.fb.group({fileEnabled:e.enabled}),this.subscriptionService.push(this.globalForm.valueChanges.subscribe({next:()=>this.subscribeBeforeunload()})),this.selectedControl=null,this.watermarkControls.controls.forEach(t=>this.controlSubscriptionMap.get(t)?.forEach(p=>p.unsubscribe())),this.watermarkControls=this.fb.array([]),this.controlSubscriptionMap=new Map,this.beforeunloadSubscription?.unsubscribe(),this.beforeunloadSubscription=null,[...n.controls,...e.controls].forEach(t=>{let[p,f]=this.watermarkConfigsService.createControl(t.value.type,t);t.patchValue({size:this.FontSizeOptions.find(h=>h.value===t.value.size),fontName:t.value.fontName},{emitEvent:!1}),this.watermarkControls.push(t),this.controlSubscriptionMap.set(t,f)}),this.selectWatermark(this.watermarkControls.controls.filter(t=>t.value.renderTarget===this.selectedTab)[0]||null),this.changeDetectorRef.markForCheck(),this.subscriptionService.push(this.renderPreview().subscribe())}}))}onFileChange(n,e){let t=Array.from(n.files||[])[0];n.value="",t&&this.subscriptionService.push(rt.fromFile(t).pipe(U(p=>this.watermarkService.renderAppearance(p,!1))).subscribe({next:p=>{this.selectedControl?.get("imageData")?.setValue(p),e.writeValue(t.name||"")},error:()=>{this.toastService.create({icon:"failed",content:this.translatePipe.transform("FORMAT_ERROR")})}}))}onMoreMenuClick(){this.previewMenuVisible=!this.previewMenuVisible}onKeyUpEnter(n){n.target instanceof HTMLInputElement&&n.target.blur()}filterControls(n){return this.watermarkControls.controls.filter(e=>e.value.renderTarget===n)}renderPreview(){return fe(()=>(this.previewImage=null,this.changeDetectorRef.markForCheck(),ge(this.watermarkConfigsService.exportWatermarkChanges(this.currentControls)))).pipe(U(n=>this.renderingService.renderWatermarks(n,100)),B({next:n=>{this.previewImage=n,this.changeDetectorRef.markForCheck()}}),F(()=>{}))}subscribeBeforeunload(){this.beforeunloadSubscription||(this.beforeunloadSubscription=ue(window,"beforeunload").subscribe({next:n=>n.preventDefault()}),this.subscriptionService.push(this.beforeunloadSubscription))}validateImageWatermark(n){let e=n.some(t=>I.isImage(t)&&!t.imageData);return e&&this.toastService.create({icon:"failed",content:this.translatePipe.transform("WATERMARK_NEED_IMAGE")}),!e}forceUpdateFormGroupStatus(n,e,t=!1){let p=n?"enable":"disable";_e(0).subscribe({next:()=>e.forEach(f=>this.selectedControl?.get(f)?.[p]({emitEvent:t}))})}};C(r,"\u0275fac",function(e){return new(e||r)(O(q),O(Q),O(it),O(Se),O(ee),O(te),O(tt),O(Y),O(Je),O(y),O(Ze))}),C(r,"\u0275cmp",j({type:r,selectors:[["sd-watermark-configs"]],viewQuery:function(e,t){if(e&1&&Pe(wt,5),e&2){let p;ke(p=we())&&(t.textAreaElement=p.first)}},standalone:!1,features:[Oe([Q])],decls:31,vars:26,consts:[["textAreaElement",""],["fileNameForm",""],["fileForm",""],[3,"selectTab","confirm","tabs"],[1,"config",3,"formGroup"],["class","config-global",4,"ngIf"],[1,"config-toolbar"],["size","tiny","color","dark",1,"ep-button",3,"click"],[1,"papycon","papycon-plus3"],[1,"right-button"],["class","ep-text-button",3,"disabled","click",4,"ngIf"],[1,"ep-text-button",3,"click","disabled"],[1,"papycon","papycon-show-panel"],["class","more-menu-container",3,"formGroup",4,"ngIf"],[1,"config-view"],[1,"config-list"],["class","config-list-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"config-preview"],["class","preview-watermark",3,"ngStyle",4,"ngIf"],["class","preview-watermark",4,"ngIf"],[4,"ngIf"],["class","config-panel",3,"formGroup",4,"ngIf"],[1,"config-global"],[1,"config-global-item"],["formControlName","fileEnabled"],[1,"config-global-item-content"],[1,"papycon","papycon-more-symbol4"],[1,"more-menu-container",3,"formGroup"],[1,"more-menu"],[1,"config-panel-item","input"],["formControlName","view"],["formControlName","print"],[1,"config-list-item",3,"click"],[3,"ngClass"],[1,"config-list-item-button","papycon","papycon-minus2",3,"click"],[1,"preview-watermark",3,"ngStyle"],[4,"ngFor","ngForOf"],["sdWatermark","","ondragstart","return false","class","watermark-view",3,"watermarkControl","pageSize",4,"ngIf"],["sdWatermark","","ondragstart","return false",1,"watermark-view",3,"watermarkControl","pageSize"],[1,"preview-watermark"],[3,"sdImage"],[1,"config-panel",3,"formGroup"],["class","config-panel-item input",3,"disabled",4,"ngIf"],[1,"config-panel-item","align"],[1,"align-display"],["class","align-display-item",3,"selected","click",4,"ngFor","ngForOf"],["class","config-panel-item text",4,"ngIf"],["class","config-panel-item image",4,"ngIf"],[1,"config-panel-item","slider"],[1,"slider-container"],["formControlName","opacity",1,"slider-slider",3,"max","min"],["size","tiny","formControlName","opacityInput",1,"slider-input",3,"keydown.enter"],["class","config-panel-item input",4,"ngIf"],["formControlName","rotate",1,"slider-slider",3,"max","min"],["size","tiny","formControlName","rotateInput",1,"slider-input",3,"keydown.enter"],["class","config-panel-item font",4,"ngIf"],[1,"papycon","papycon-questionmark",3,"tooltip"],["formControlName","_repeat"],[1,"input-section"],[1,"input-container"],[1,"input-title"],["formControlName","_repeatHeight",1,"input-input-value",3,"enterKeyup","max","min","width","height"],["formControlName","_repeatWidth",1,"input-input-value",3,"enterKeyup","max","min","width","height"],["formControlName","allowView"],["formControlName","allowPrint"],[1,"align-display-item",3,"click"],[1,"config-panel-item","text"],["formControlName","text",1,"text-input",3,"placeholder"],["class","text-button-container",4,"ngIf"],[1,"text-button-container"],["class","text-button",3,"mousedown",4,"ngFor","ngForOf"],[1,"text-button",3,"mousedown"],[1,"config-panel-item","image"],[1,"image-container"],["color","white","size","tiny",1,"ep-button",3,"click"],["disabled","","ngModel","",1,"image-input",3,"ngModelOptions","placeholder"],["type","file","hidden","",3,"change"],["formControlName","scale",1,"input-input-value",3,"max","min","width","height"],[1,"config-panel-item","font"],[1,"font-basic"],["formControlName","size",1,"font-basic-size",3,"options"],[1,"font-basic-color-container",3,"click"],[1,"font-basic-color"],[1,"font-more"],["class","papycon",3,"selected","ngClass","click",4,"ngFor","ngForOf"],[1,"font-divider"],["src","assets/icons/bold-text.svg",3,"click"],["src","assets/icons/italic-text.svg",3,"click"],["formControlName","color",3,"customColorLabel","defaultColorLabel","defaultColorPanelExpandedd",4,"ngIf"],[1,"papycon",3,"click","ngClass"],["formControlName","color",3,"customColorLabel","defaultColorLabel","defaultColorPanelExpandedd"]],template:function(e,t){e&1&&(l(0,"h1"),u(1),d(2,"translate"),s(),l(3,"sd-tab-panel2",3),x("selectTab",function(f){return t.selectTab(f)})("confirm",function(){return t.saveWatermarks()}),l(4,"main",4),b(5,yt,6,3,"section",5),l(6,"section",6)(7,"button",7),x("click",function(){return t.createWatermark("image")}),_(8,"i",8),u(9),d(10,"translate"),s(),l(11,"button",7),x("click",function(){return t.createWatermark("text")}),_(12,"i",8),u(13),d(14,"translate"),s(),l(15,"div",9),b(16,Tt,2,2,"button",10),l(17,"button",11),x("click",function(){return t.togglePanelVisible()}),_(18,"i",12),s()(),b(19,It,12,11,"div",13),s(),l(20,"section",14)(21,"section",15)(22,"h2"),u(23),d(24,"translate"),s(),b(25,Wt,5,6,"div",16),s(),l(26,"section",17),b(27,Nt,2,2,"div",18)(28,Dt,2,1,"div",19)(29,Vt,1,0,"sd-loader",20),s(),b(30,Qt,47,46,"section",21),s()()()),e&2&&(a(),v(g(2,18,"WATERMARK")),a(2),c("tabs",t.tabs),a(),c("formGroup",t.globalForm),a(),c("ngIf",t.WatermarkUtils.isFileWatermark(t.selectedTab)),a(),k("border-top",t.WatermarkUtils.isFileWatermark(t.selectedTab)),a(3),E(" ",g(10,20,"IMAGE_WATERMARK")," "),a(4),E(" ",g(14,22,"TEXT_WATERMARK")," "),a(3),c("ngIf",t.WatermarkUtils.isScreenWatermark(t.selectedTab)),a(),c("disabled",!t.selectedControl),le("color",t.configPanelVisible?"primary":"dark"),a(2),c("ngIf",t.previewMenuVisible&&t.WatermarkUtils.isScreenWatermark(t.selectedTab)),a(4),v(g(24,24,"LIST")),a(2),c("ngForOf",t.currentControls),a(2),c("ngIf",t.selectedControl&&t.WatermarkUtils.isScreenWatermark(t.selectedTab)),a(),c("ngIf",t.previewImage&&t.WatermarkUtils.isFileWatermark(t.selectedTab)),a(),c("ngIf",!t.previewImage&&!t.selectedControl),a(),c("ngIf",t.selectedControl&&t.configPanelVisible))},dependencies:[Ee,$,H,ye,Ie,We,Ae,Re,lt,Ue,Ke,ze,Ge,Xe,Ye,Ne,De,et,ct,Te,ot,y],styles:["[_nghost-%COMP%]{flex-direction:column;width:100%;min-width:1165px}h1[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;margin-bottom:30px;font-size:28px}h1[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{flex:1 1 auto}.config[_ngcontent-%COMP%]{display:flex;flex-direction:column}.config-global[_ngcontent-%COMP%]{flex:0 0 auto;padding:20px 30px}.config-global-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:44px}.config-global-item[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]{margin-right:16px}.config-global-item-title[_ngcontent-%COMP%]{font-family:NotoSans-Regular,sans-serif;color:#1e1e1e;flex:0 0 auto;margin-right:10px;font-size:16px}.config-global-item-content[_ngcontent-%COMP%]{font-family:NotoSans-Regular,sans-serif;color:#6c6c6c;font-size:14px}.config-global-item-box[_ngcontent-%COMP%]{display:flex;align-items:center}.config-global-item-box[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]:last-child{margin-left:16px}.config-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;flex:0 0 auto;padding:12px 16px;box-sizing:border-box;border-bottom:1px solid #DADADA}.config-toolbar[_ngcontent-%COMP%]   .ep-button[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{margin-right:2px;font-size:20px}.config-toolbar[_ngcontent-%COMP%]   .ep-button[_ngcontent-%COMP%] + .ep-button[_ngcontent-%COMP%]{margin-left:12px}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{display:flex;margin-left:auto}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%]{align-items:normal;justify-content:center}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:4px}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%] + .ep-text-button[_ngcontent-%COMP%]{margin-left:12px}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]{position:relative;height:100%}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]   .more-menu[_ngcontent-%COMP%]{z-index:1;width:223px;height:65px;position:absolute;padding:20px 16px;top:27px;right:-17px;background-color:#fff;border:solid 1px #DADADA}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]   .more-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:25px}.config-toolbar[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:auto;font-size:20px;display:flex;align-items:center}.config-view[_ngcontent-%COMP%]{display:flex;flex:1 0 auto}.config-list[_ngcontent-%COMP%]{flex:0 0 240px;box-sizing:border-box;border-right:1px solid #DADADA;color:#1e1e1e}.config-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:38px 16px 22px}.config-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px;cursor:pointer}.config-list-item[_ngcontent-%COMP%]:hover, .config-list-item.selected[_ngcontent-%COMP%]{background-color:#f4f4f4}.config-list-item[_ngcontent-%COMP%]:hover   .config-list-item-button[_ngcontent-%COMP%]{display:block}.config-list-item[_ngcontent-%COMP%]   .config-list-item-button[_ngcontent-%COMP%]{display:none;font-size:20px}.config-list-item[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{flex:0 0 auto}.config-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:6px;font-family:NotoSans-Regular;font-size:13px}.config-preview[_ngcontent-%COMP%]{position:relative;display:flex;min-height:535px;align-items:center;justify-content:center;flex:1 1 auto;padding:11px 12px;background-color:#f7f8f9}.config-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#fff}.config-preview[_ngcontent-%COMP%]   .preview-watermark[_ngcontent-%COMP%]{position:relative;background-color:#fff}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]{position:absolute;color:#1e1e1e;top:0;width:100%;height:100%;overflow:hidden}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;white-space:nowrap;font-family:NotoSans-Regular}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute}.config-panel[_ngcontent-%COMP%]{flex:0 0 300px;padding:28px 16px;box-sizing:border-box;border-left:1px solid #DADADA;color:#1e1e1e}.config-panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:28px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;height:20px;font-family:NotoSans-Medium;font-size:13px;line-height:13px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:3px 0 0 2px;cursor:pointer}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:12px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]{margin-left:auto}.config-footer[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;padding:15px;box-sizing:border-box;border-top:1px solid #DADADA}.config-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){margin-left:auto}.config-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}.align-display[_ngcontent-%COMP%]{width:122px;height:102px;padding:8px;box-sizing:border-box;border:1px solid #DADADA;border-radius:2px}.align-display-item[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-left:27px;border-radius:2px;background-color:#dadada;cursor:pointer}.align-display-item[_ngcontent-%COMP%]:nth-child(3n+1){margin-left:0}.align-display-item[_ngcontent-%COMP%]:nth-child(n+4){margin-top:18px}.align-display-item[_ngcontent-%COMP%]:hover{background-color:#e65800}.align-display-item[_ngcontent-%COMP%]:active{background-color:#d95300}.align-display-item.selected[_ngcontent-%COMP%]{background-color:#ff6100}.text-input[_ngcontent-%COMP%]{width:100%;height:80px;overflow:auto}.text-button[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;box-sizing:border-box;border:1px solid #FFDDA8;border-radius:10px;color:#6c6c6c;background-color:#fff8ed;font-family:NotoSans-Regular;font-size:13px;line-height:13px;cursor:pointer}.text-button[_ngcontent-%COMP%]:hover{border-color:#f79f1a;color:#ff6100}.text-button[_ngcontent-%COMP%]:active{color:#d95300}.text-button-container[_ngcontent-%COMP%]{margin-top:10px}.text-button-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}.image-container[_ngcontent-%COMP%]{display:flex}.image[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 auto}.image-input[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:10px}.slider-container[_ngcontent-%COMP%]{display:flex;align-items:center}.slider-title[_ngcontent-%COMP%]{color:#1e1e1e;font-family:NotoSans-Regular;font-size:13px}.slider-slider[_ngcontent-%COMP%]{flex:0 0 170px}*[_ngcontent-%COMP%] + .slider-slider[_ngcontent-%COMP%]{margin-left:12px}.slider-input[_ngcontent-%COMP%]{flex:0 0 40px;margin-left:8px}.slider.disabled[_ngcontent-%COMP%]   .slider-title[_ngcontent-%COMP%]{color:#c8c8c8}.input-section[_ngcontent-%COMP%]{display:flex}.input-container[_ngcontent-%COMP%] + .input-container[_ngcontent-%COMP%]{margin-left:14px}.input-title[_ngcontent-%COMP%]{color:#6c6c6c;font-family:NotoSans-Regular;font-size:12px}.input-input-value[_ngcontent-%COMP%]{flex:0 0 170px;margin-top:6px}.input-input[_ngcontent-%COMP%]{flex:0 0 40px;margin-left:8px}.input.disabled[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{color:#6c6c6c;opacity:.5}.font[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(n+2){margin-top:20px}.font-basic[_ngcontent-%COMP%]{display:flex}.font-basic[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:12px}.font-basic-name[_ngcontent-%COMP%]{flex:0 0 140px}.font-basic-size[_ngcontent-%COMP%]{flex:0 0 60px}.font-basic-color[_ngcontent-%COMP%]{width:100%;height:100%}.font-basic-color-container[_ngcontent-%COMP%]{flex:0 0 30px;padding:4px;border:1px solid #DADADA;border-radius:2px}.font-more[_ngcontent-%COMP%]{display:flex}.font-more[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%], .font-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex:0 0 28px;height:28px;border-radius:2px;font-size:24px;line-height:28px;cursor:pointer}.font-more[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]:hover, .font-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover, .font-more[_ngcontent-%COMP%]   .papycon.selected[_ngcontent-%COMP%], .font-more[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%]{background-color:#dadada}.font-more[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:14px}.font-divider[_ngcontent-%COMP%]{flex:0 0 1px;height:28px;background-color:#dadada}.border-top[_ngcontent-%COMP%]{border-top:1px solid #DADADA}"],changeDetection:0}));let i=r;return i})();var ne=(()=>{let r=class r{dialogService;translatePipe;constructor(n,e){this.dialogService=n,this.translatePipe=e}canDeactivate(n){return n.formChanged?(this.dialogService.toggleDialogVisibility(N.WARNING,!0,{size:{width:336,height:280},title:this.translatePipe.transform("CANCEL"),description:this.translatePipe.transform("WATERMARK_CANCEL_DESCRIPTION")}),this.dialogService.dialogEvent$.pipe(T(e=>e.dialogType===N.WARNING&&e.action==="confirm"),F(()=>(this.dialogService.closeCurrentActiveDialog(),!0)))):!0}};C(r,"\u0275fac",function(e){return new(e||r)(A(Y),A(y))}),C(r,"\u0275prov",L({token:r,factory:r.\u0275fac}));let i=r;return i})();var mt=(()=>{let r=class r{};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275mod",R({type:r})),C(r,"\u0275inj",W({imports:[X,Z]}));let i=r;return i})();var Zt=[{path:"",component:pt,canDeactivate:[ne]}],dt=(()=>{let r=class r{};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275mod",R({type:r})),C(r,"\u0275inj",W({imports:[ce.forChild(Zt),ce]}));let i=r;return i})();var Zn=(()=>{let r=class r{};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275mod",R({type:r})),C(r,"\u0275inj",W({providers:[ne,te],imports:[X,Ve,Z,st,Le,je,Be,$e,He,Qe,qe,Fe,nt,mt,dt,at]}));let i=r;return i})();export{ct as a,te as b,pt as c,ne as d,mt as e,dt as f,Zn as g};
